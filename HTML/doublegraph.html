<!DOCTYPE HTML>
<html>
<meta charset="utf-8"/>

<head>
  <title>Two Graphs</title>
  <script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>
  <script type="text/javascript" src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
  <script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
</head>

<body>

  <div class="container">
    <div class="col-md-3">
      <ul class="nav nav-pills nav-jt">
        <li class="active"><a data-toggle="tab" id="bs-tab1" href="#tab1">Chart 1    </a></li>
        <li><a data-toggle="tab" id="bs-tab2" href="#tab2">   Chart 2     </a></li>
      </ul>
      <div class="tab-content">
        <div id="tab1" class="tab-pane active">
          <div id="chart1Container" style="height: 300px; width: 500px;"></div>
        </div>
        <div id="tab2" class="tab-pane">
          <div id="chart2Container" style=" height: 300px; width: 500px;"></div>
        </div>
      </div>
    </div>
  </div>
</body>

<script type="text/javascript">

var chart1, chart2;


(function chartOne() {
  var dps = [ { y: 90 }, { y: 100 } ], // dataPoints
    yVal = 100,
    updateInterval = 300;

  chart1 = new CanvasJS.Chart("chart1Container", {
    title: {
      text: "Chart 1 - Live Random Data"
    },
    data: [{
      type: "line",
      dataPoints: dps
    }]
  });
  chart1.render();

  var updateChart1 = function(count) {
    count = count || 1; // count is number of times loop runs to generate random dataPoints.

    for (var j = 0; j < count; j++) {
      yVal = yVal + Math.round(5 + Math.random() * (-5 - 5)); //assign y-value here
      dps.push({
        y: yVal
      });
    };
    chart1.render();
  };

  // update chart after specified time.
  setInterval(function() {
    updateChart1()
  }, updateInterval); //Remove setInterval and call updateChart when y-vlaue is available
})();

function chartTwo() {
  var dps = [ { y: 90 }, { y: 100 } ], // dataPoints
    yVal = 100,
    updateInterval = 800;

  chart2 = new CanvasJS.Chart("chart2Container", {
    title: {
      text: "Chart 2 - Live Random Data"
    },
    data: [{
      type: "line",
      color: "#c24642",
      dataPoints: dps
    }]
  });
  chart2.render();

  var updateChart2 = function(count) {
    count = count || 1; // count is number of times loop runs to generate random dataPoints.
    for (var j = 0; j < count; j++) {
      yVal = yVal + Math.round(5 + Math.random() * (-5 - 5)); //assign y-value here
      dps.push({
        y: yVal
      });
    };
    chart2.render();
  };

  // update chart after specified time.
  setInterval(function() {
    updateChart2()
  }, updateInterval); //Remove setInterval and call updateChart when y-vlaue is available
}

$('#bs-tab2').on("shown.bs.tab", function() {
  chartTwo();
  $('#bs-tab2').off(); // to remove the binded event after the initial rendering
  renderChartEvents();
});

function renderChartEvents() {
  $('#bs-tab1').on("shown.bs.tab", function() {
    chart1.render();
  });
  $('#bs-tab2').on("shown.bs.tab", function() {
    chart2.render();
  });
}

</script>
</html>
